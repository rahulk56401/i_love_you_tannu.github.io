
<!DOCTYPE html>
<!--
    IMPORTANT: To make images load quickly when you upload this project to GitHub,
    create an `images/` folder in the same directory as `9.html` and put these files inside:

    - images/red.png                (First Meet & Date)
    - images/cake_cut.png          (Crazy Adventures)
    - images/blue.png              (My Favorite Photo)
    - images/gift_tannu.png        (The Future Awaits)
    - images/her_birthday.jpg      (Her portrait shown in surprise message)
    - images/couple_final.jpg      (Couple final image shown after YES)

    You can download the Dropbox links you shared and save them with the filenames above.
    Example PowerShell commands to fetch each image are included in `README_IMAGES.md` created by the script.
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíò FOREVER & ALWAYS - A Special Surprise üíç</title>
    <style>
        /* BASE & RESET */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: #000;
            color: white;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* FONT IMPORT (Using Poppins - Modern) */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;700;900&display=swap');

        /* --- SECTION 1: PASSWORD PROTECTED ENTRY --- */
        #entry-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #ffeaa7);
            background-size: 400% 400%;
            animation: gradientShift 10s ease infinite;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 9999;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .password-box {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            padding: 50px;
            border-radius: 30px;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
        }

        .password-box h1 {
            font-size: 3rem;
            margin-bottom: 25px;
            color: white;
            text-shadow: 0 0 10px rgba(255,255,255,0.7);
        }

        #password-input {
            padding: 18px;
            font-size: 1.4rem;
            border: none;
            border-radius: 15px;
            margin: 15px 0;
            width: 300px;
            text-align: center;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
        }

        #submit-btn {
            padding: 15px 40px;
            font-size: 1.5rem;
            background: linear-gradient(45deg, #FF4081, #FF9100);
            border: none;
            border-radius: 15px;
            color: white;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            font-weight: bold;
        }

        #submit-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 30px rgba(255, 64, 129, 0.5);
        }

        /* --- MAIN CONTENT --- */
        #main-content {
            display: none;
        }

        /* --- SECTION 2: HERO (Intro) --- */
        #hero-section {
            height: 100vh;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            background: linear-gradient(135deg, #1f005c 0%, #a100ff 100%);
            overflow: hidden;
        }

        #floating-hearts {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .heart {
            position: absolute;
            font-size: 3rem;
            animation: float 8s ease-in-out infinite;
            opacity: 0.8;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
            50% { transform: translateY(-50px) rotate(360deg) scale(1.2); }
        }

        .hero-content h1 {
            font-size: 5rem;
            text-align: center;
            margin-bottom: 20px;
            font-weight: 900;
            text-shadow: 0 0 50px rgba(255, 255, 255, 0.8);
            animation: textGlow 2s ease-in-out infinite alternate;
        }

        /* Couple names banner */
        .couple-names {
            font-size: 1.2rem;
            color: #fff;
            background: rgba(255,255,255,0.06);
            padding: 8px 14px;
            border-radius: 999px;
            display: inline-block;
            margin-bottom: 18px;
            letter-spacing: 1px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.4);
        }

        /* Reveal animation for main content after unlock */
        .reveal { opacity: 0; transform: translateY(12px); animation: contentIn 700ms ease forwards; }
        @keyframes contentIn { to { opacity: 1; transform: translateY(0); } }

        @keyframes textGlow {
            from { text-shadow: 0 0 10px #fff, 0 0 20px #ff4da6, 0 0 30px #ff4da6; }
            to { text-shadow: 0 0 20px #fff, 0 0 40px #ff4da6, 0 0 60px #ff4da6; }
        }

        /* --- SECTION 3: PHOTO GALLERY --- */
        #photo-gallery {
            padding: 120px 20px;
            background: linear-gradient(135deg, #fceabb 0%, #f8b500 100%);
            text-align: center;
            color: #333;
        }

        .gallery-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 22px;
            max-width: 1400px;
            margin: 40px auto 0;
            align-items: start;
            padding: 0 12px;
        }

        .photo-card {
            background: white;
            padding: 12px;
            border-radius: 14px;
            box-shadow: 0 14px 32px rgba(0,0,0,0.28);
            transform-style: preserve-3d;
            transition: transform 0.28s ease-in-out, box-shadow 0.22s ease;
            cursor: pointer;
            border: 4px solid #ff9100;
            display: flex;
            flex-direction: column;
            align-items: stretch;
        }

        .photo-card:hover {
            transform: translateY(-6px) scale(1.02);
            box-shadow: 0 26px 60px rgba(0,0,0,0.32);
        }

        .photo-card img {
            width: 100%;
            height: auto;
            max-height: 56vh; /* keep images large on tall screens but bounded */
            object-fit: contain; /* show whole image without cropping */
            background: linear-gradient(180deg,#fff,#f6f6f6); /* subtle backdrop */
            border-radius: 12px;
            margin-bottom: 12px;
            display:block;
        }

        /* Make hero text responsive using clamp */
        .hero-content h1 { font-size: clamp(2rem, 6vw, 5rem); }

        /* Responsive tweaks */
        @media (max-width: 900px) {
            #hero-section { height: auto; padding: 60px 20px; }
            .hero-content h1 { margin-bottom: 12px; }
            .gallery-container { gap: 18px; }
            .photo-card { max-width: 48%; flex-basis: 48%; }
            .memory-card { height: 100px; font-size: 2.5rem; }
            .propose-container { padding: 40px 20px; }
            .propose-btn { padding: 16px 36px; font-size: 1.4rem; }
        }

        @media (max-width: 600px) {
            .hero-content h1 { font-size: clamp(1.6rem, 8vw, 3rem); }
            #hero-section { padding: 40px 12px; }
            .couple-names { font-size: 1rem; padding: 6px 10px; }
            .gallery-container { gap: 12px; }
            .photo-card { max-width: 100%; flex-basis: 100%; }
            .photo-card img { height: 220px; }
            .memory-game { grid-template-columns: repeat(2, 1fr); gap: 10px; }
            .memory-card { height: 90px; font-size: 2rem; }
            .audio-player { left: 50%; right: auto; transform: translateX(-50%); bottom: 12px; width: auto; padding: 8px 14px; }
            .audio-controls button { font-size: 1.4rem; padding: 8px; }
            .propose-btn { padding: 16px 28px; font-size: 1.2rem; }
        }

        /* --- SECTION 4: SURPRISE MESSAGES (with Her Image) --- */
        #surprise-messages {
            padding: 120px 20px;
            background: linear-gradient(135deg, #ff4081 0%, #ff8e53 100%);
            text-align: center;
        }

        .message-box {
            background: rgba(255, 255, 255, 0.98);
            padding: 50px;
            border-radius: 30px;
            max-width: 900px;
            margin: 0 auto;
            color: #333;
            box-shadow: 0 30px 60px rgba(0,0,0,0.4);
            position: relative;
            overflow: hidden;
            border: 5px solid #ff4081;
            display: flex; /* Added for centering image */
            flex-direction: column; /* Added for centering image */
            align-items: center; /* Added for centering image */
        }
        
        /* New CSS for Her Birthday Image */
        #her-birthday-image {
            width: 100%;
            max-width: 250px; /* Reduced size for elegance */
            height: 250px;
            object-fit: cover;
            border-radius: 50%; /* Circular image */
            margin-bottom: 30px;
            border: 7px solid #ff4081;
            box-shadow: 0 0 20px rgba(255, 64, 129, 0.8);
            animation: photoGlow 3s infinite alternate;
        }
        
        @keyframes photoGlow {
            from { box-shadow: 0 0 20px #ff4081; }
            to { box-shadow: 0 0 40px #ff4081; }
        }

        .message-box::before {
            content: 'üíå';
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 50px;
            opacity: 0.5;
            animation: floatUpDown 3s ease-in-out infinite alternate;
        }

        /* Shayari block inside surprise message */
        .shayari { margin-top: 22px; background: linear-gradient(180deg,#fff0f2,#fff); padding: 16px; border-radius: 12px; width:100%; box-shadow: 0 8px 24px rgba(255,64,129,0.06); }
        .shayari p { margin: 6px 0; color: #333; font-style: normal; font-weight: 600; font-size: 1.05rem; }
        .copy-shayari { margin-top:10px; display:inline-block; padding:8px 12px; border-radius:10px; background:linear-gradient(45deg,#ff4081,#ff9100); color:white; border:none; cursor:pointer }
        /* small toast */
        #toast { position: fixed; bottom: 18px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.8); color: #fff; padding: 8px 14px; border-radius: 8px; display:none; z-index:10010 }

        @keyframes floatUpDown {
            from { transform: translateY(0); }
            to { transform: translateY(-10px); }
        }

        /* --- SECTION 5: PROPOSE SECTION (ROMANTIC) --- */
        #propose-section {
            padding: 120px 20px;
            background: url('https://i.ibb.co/L84kQyK/love-bg.jpg') no-repeat center center/cover; /* Replace with a romantic background image */
            text-align: center;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            position: relative;
        }

        #propose-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
        }

        .propose-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 70px 50px;
            border-radius: 40px;
            max-width: 900px;
            color: #333;
            box-shadow: 0 40px 80px rgba(0,0,0,0.6);
            position: relative;
            z-index: 10;
        }

        .propose-title {
            font-family: 'Brush Script MT', cursive;
            font-size: 4.5rem;
            color: #ff4081;
            margin-bottom: 40px;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .propose-message {
            font-size: 1.5rem;
            line-height: 2;
            margin-bottom: 50px;
            color: #555;
            text-align: left;
            border-left: 5px solid #ff4081;
            padding-left: 20px;
        }

        .propose-buttons {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 50px;
            min-height: 100px; /* Space for the floating button */
        }

        .propose-btn {
            padding: 20px 60px;
            font-size: 1.8rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s ease;
            font-weight: bold;
            position: relative;
            z-index: 1;
        }

        .yes-btn {
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            color: white;
            box-shadow: 0 15px 30px rgba(76, 175, 80, 0.6);
            transform: scale(1); /* Base scale */
        }

        .no-btn {
            background: linear-gradient(45deg, #ff4444, #cc0000);
            color: white;
            box-shadow: 0 15px 30px rgba(255, 68, 68, 0.6);
            position: absolute; /* Important for floating */
            left: auto;
            top: auto;
            transform: scale(1);
        }

        .yes-btn:hover {
            transform: scale(1.15);
            box-shadow: 0 20px 40px rgba(76, 175, 80, 0.8);
        }

        /* --- SECTION 6: AFTER YES - CELEBRATION (with Couple Image) --- */
        #after-yes {
            padding: 120px 20px;
            background: linear-gradient(135deg, #ff9a9e 0%, #a1c4fd 100%, #c2e9fb 100%);
            background-size: 400% 400%;
            animation: gradientShift 6s ease infinite;
            text-align: center;
            min-height: 100vh;
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .celebration-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 70px 50px;
            border-radius: 40px;
            max-width: 1000px;
            color: #333;
            box-shadow: 0 50px 100px rgba(0,0,0,0.5);
            border: 8px dashed #ff4081;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        /* New CSS for Couple Image */
        #couple-final-image {
            width: 100%;
            max-width: 500px;
            height: auto;
            object-fit: cover;
            border-radius: 20px;
            margin-top: 40px;
            border: 8px solid #a1c4fd;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            transition: transform 0.5s ease;
        }
        
        #couple-final-image:hover {
            transform: scale(1.05) rotate(-2deg);
        }

        .celebration-title {
            font-size: 5rem;
            color: #ff4081;
            margin-bottom: 40px;
            font-weight: 900;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.2);
        }

        .love-letter {
            font-size: 1.4rem;
            line-height: 2;
            margin-bottom: 50px;
            text-align: justify;
            background: linear-gradient(45deg, #ff4081, #ff9100);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* --- SECTION 7: INTERACTIVE GAMES --- */
        #games-section {
            padding: 120px 20px;
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            text-align: center;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.95);
            padding: 50px;
            border-radius: 30px;
            max-width: 650px;
            margin: 50px auto 0;
            color: #333;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 30px;
        }

        .memory-card {
            height: 120px;
            background: #ff4081;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3rem;
            color: white;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 0.6s ease, background 0.6s ease;
            user-select: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .memory-card.flipped {
            transform: rotateY(180deg);
            background: #fff;
            color: #ff4081;
        }

        /* --- UTILITIES & ANIMATIONS --- */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9998;
        }

        .audio-player {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 20px;
            border-radius: 50px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            z-index: 10000;
            backdrop-filter: blur(5px);
        }

        .audio-controls button {
            background: none;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            margin: 0 5px;
            color: white;
            transition: transform 0.3s ease;
        }

        .audio-controls button:hover {
            transform: scale(1.1);
        }

        /* Lightbox styles */
        #lightbox { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; background: rgba(0,0,0,0.88); z-index: 10005; }
        #lightbox .inner { max-width: 96%; max-height: 92%; position: relative; text-align: center; display:flex; flex-direction:column; align-items:center; }
        #lightbox img { width: auto; max-width: 96%; max-height: 84vh; border-radius: 12px; box-shadow: 0 20px 60px rgba(0,0,0,0.6); cursor: zoom-out; }
        #lightbox #lightbox-caption { margin-top: 10px; color: #fff; font-size: 1rem; max-width: 90%; text-align:center; }
        #lightbox-close { position: absolute; right: -10px; top: -10px; background: #fff; border-radius: 50%; border: none; padding: 6px 9px; cursor: pointer; box-shadow: 0 6px 18px rgba(0,0,0,0.4); }
        #lightbox-download { display:inline-block; margin-left:10px; color:#fff; background:rgba(255,255,255,0.08); padding:6px 10px; border-radius:8px; text-decoration:none }
        #lightbox-prev, #lightbox-next { position:relative; background: rgba(255,255,255,0.9); border: none; padding: 6px 10px; border-radius: 6px; cursor: pointer; }
    </style>
</head>
<body>
    <div id="entry-screen">
        <div class="password-box">
            <h1>üéÅ Unbox The Love! üéÅ</h1>
            <p style="font-size: 1.2rem; margin-bottom: 5px;">Enter the magical word to unlock your surprise!</p>
            <p style="font-size: 1rem; opacity: 0.8;"><em>(Hint: Your favorite sweet item or the secret word 'love')</em></p>
            <input type="text" id="password-input" placeholder="Type here..." autofocus>
            <button id="submit-btn" onclick="checkPassword()">UNLOCK SURPRISE!</button>
        </div>
    </div>

    <div id="main-content">
        <canvas id="confetti-canvas"></canvas>

        <!-- Lightbox for gallery images -->
        <div id="lightbox" role="dialog" aria-hidden="true">
            <div class="inner" role="document">
                <div style="position:relative; width:100%; display:flex; justify-content:flex-end;">
                    <button id="lightbox-prev" aria-label="Previous" style="margin-right:8px; display:none">‚óÄ</button>
                    <button id="lightbox-close" aria-label="Close">‚úñ</button>
                    <button id="lightbox-next" aria-label="Next" style="margin-left:8px; display:none">‚ñ∂</button>
                </div>
                <img id="lightbox-img" alt="" />
                <div id="lightbox-caption" aria-live="polite"></div>
                <a id="lightbox-download" href="#" download target="_blank">Download</a>
            </div>
        </div>

        <div class="audio-player">
            <div class="audio-controls">
                <button onclick="playMusic()" title="Play">‚ñ∂Ô∏è</button>
                <button onclick="pauseMusic()" title="Pause">‚è∏Ô∏è</button>
                <button onclick="nextSong()" title="Next Song">‚è≠Ô∏è</button>
            </div>
        </div>

        <section id="hero-section">
            <div id="floating-hearts"></div>
            <div class="hero-content">
                <div class="couple-names">[Her Name] &amp; [Your Name]</div>
                <h1 id="typed-text"></h1>
                <p id="hero-sub" style="font-size: 1.8rem; margin-top: 30px;">This is all for you, [Her Name]! ‚ú®</p>
                <button onclick="scrollToSection('photo-gallery')" style="margin-top: 50px; padding: 18px 40px; font-size: 1.4rem; background: linear-gradient(45deg, #FF9100, #FFC107); border: none; border-radius: 10px; color: white; cursor: pointer; font-weight: bold; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);">Start Exploring Our Story! üöÄ</button>
            </div>
        </section>

        <section id="photo-gallery">
            <h2 style="font-size: 3.5rem; margin-bottom: 20px; font-weight: 900;">Our Beautiful Memories üì∏</h2>
            <p style="font-size: 1.5rem; margin-bottom: 50px;">Hover over the cards for a little magic! Enjoy exploring our memories!</p>
            <div class="gallery-container">
                <div class="photo-card">
                    <img loading="lazy" src="red.png" alt="First Meet - Taniya & Rahul" data-gallery-index="0" srcset="images/red.png 1x, images/red@2x.png 2x" sizes="(max-width:600px) 90vw, 33vw">
                    <h3>First Meet & Date ‚ú®</h3>
                </div>
                <div class="photo-card">
                    <img loading="lazy" src="cake_cut.png" alt="Crazy Adventures - Taniya & Rahul" data-gallery-index="1" srcset="images/cake_cut.png 1x, images/cake_cut@2x.png 2x" sizes="(max-width:600px) 90vw, 33vw">
                    <h3>Crazy Adventures üåü</h3>
                </div>
                <div class="photo-card">
                    <img loading="lazy" src="blue.png" alt="My Favorite Photo - Taniya & Rahul" data-gallery-index="2" srcset="images/blue.png 1x, images/blue@2x.png 2x" sizes="(max-width:600px) 90vw, 33vw">
                    <h3>My Favorite Photo üíù</h3>
                </div>
                <div class="photo-card">
                    <img loading="lazy" src="gift_tannu.png" alt="The Future Awaits - Taniya & Rahul" data-gallery-index="3" srcset="images/gift_tannu.png 1x, images/gift_tannu@2x.png 2x" sizes="(max-width:600px) 90vw, 33vw">
                    <h3>The Future Awaits üöÄ</h3>
                </div>
            </div>
        </section>

        <section id="surprise-messages">
            <h2 style="font-size: 3.5rem; margin-bottom: 50px; color: white; font-weight: 900;">A Love Note Just For You üíå</h2>
            <div class="message-box">
                <img id="her-birthday-image" loading="lazy" src="black.png" alt="Happy Birthday Taniya">
                
                <h3 style="color: #ff4081; font-size: 2.5rem; margin-bottom: 25px;">To My Dearest [Her Name]! üéÇ</h3>
                <p style="font-size: 1.4rem; line-height: 1.8; text-align: left;">
                    Happy Birthday, my love! üéâ<br><br>
                    You are the most incredible person I have ever known. Your kindness, your spirit, and your immense heart inspire me every single day. I cherish every second we spend together. You are my home.<br><br>
                    This whole journey was just the build-up to the moment that will define our future.<br><br>
                    <strong>Please scroll down for the most important question of my life. My heart is in your hands! üíù</strong>
                </p>
                    <div class="shayari" id="shayari">
                        <p>‡§™‡§∞‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§∞‡§æ‡§ú‡§ï‡•Å‡§Æ‡§æ‡§∞‡•Ä, ‡§§‡•Å‡§Æ ‡§Æ‡•á‡§∞‡•Ä ‡§¶‡§æ‡§∏‡•ç‡§§‡§æ‡§Ç ‡§π‡•ã,</p>
                        <p>‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•Ä ‡§π‡§∞ ‡§Æ‡•Å‡§∏‡•ç‡§ï‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§Æ‡•á‡§∞‡•Ä ‡§∏‡•Å‡§¨‡§π ‡§ï‡•Ä ‡§∞‡•ã‡§∂‡§®‡•Ä ‡§π‡•à‡•§</p>
                        <p>‡§ú‡§π‡§æ‡§Å ‡§§‡•Å‡§Æ ‡§π‡•ã, ‡§µ‡§π‡•Ä‡§Ç ‡§Æ‡•á‡§∞‡§æ ‡§ò‡§∞, ‡§Æ‡•á‡§∞‡•Ä ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§î‡§∞ ‡§Æ‡•á‡§∞‡•Ä ‡§ú‡§º‡§ø‡§Ç‡§¶‡§ó‡•Ä ‡§π‡•à‡•§</p>
                        <button class="copy-shayari" id="copyShayariBtn" onclick="copyShayari()">Copy Shayari</button>
                    </div>
                <button onclick="scrollToSection('propose-section')" style="margin-top: 40px; padding: 20px 45px; font-size: 1.5rem; background: linear-gradient(45deg, #FFC107, #FF9100); border: none; border-radius: 15px; color: white; cursor: pointer; font-weight: bold; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);">Continue to The Grand Finale! üíñ</button>
            </div>
        </section>

        <section id="propose-section">
            <div class="propose-container">
                <h1 class="propose-title">Will You Be Mine Forever? üíç</h1>
                
                <div class="propose-message">
                    <p>My Darling [Her Name],</p><br>
                    
                    <p>I don't just love you; I love the life we have built and the future we will share. You are my best friend, my soulmate, and the person who makes me believe in happy endings.</p><br>
                    
                    <p>Standing here, looking towards our future, there is only one person I want by my side for all of it. Every sunrise, every challenge, every victory.</p><br>
                    
                    <p style="font-size: 1.8rem; color: #ff4081; font-weight: bold; text-align: center; margin-top: 20px;">
                        Will you marry me and make me the happiest person in this universe?
                    </p>
                </div>

                <div class="propose-buttons">
                    <button class="propose-btn yes-btn" onclick="handleYes()">YES! I LOVE YOU! üíñ</button>
                    <button class="propose-btn no-btn" id="noBtn" onmouseover="moveNoButton()" onclick="moveNoButton()">No üò¢</button>
                </div>
            </div>
        </section>

        <section id="after-yes">
            <div class="celebration-container">
                <h1 class="celebration-title">SHE SAID YES! üéâüíù</h1>
                
                <div class="love-letter">
                    <p>My Fiancee [Her Name],</p><br>
                    
                    <p>This is the moment I've dreamt of! You have no idea how light and full of joy my heart is right now. Thank you for this beautiful promise. I will spend the rest of my life making you happy, safe, and loved. Our forever starts NOW!</p><br>
                    
                    <p>We are going to have the most amazing life together. I promise to be your biggest supporter, your most honest critic, and your never-ending source of comfort and love.</p><br>
                    
                    <p style="text-align: center; font-size: 1.8rem; font-weight: bold;">
                        Forever & Always Yours,<br>
                        Your Husband-to-Be, [Your Name] üíç
                    </p>
                </div>
                
                <img id="couple-final-image" loading="lazy" src="parpose.png" alt="Taniya & Rahul - Our Forever Starts Now">

                <button onclick="startUltimateCelebration()" style="padding: 25px 50px; font-size: 1.5rem; background: linear-gradient(45deg, #FFC107, #FF9100); border: none; border-radius: 50px; color: white; cursor: pointer; margin-top: 30px; font-weight: bold; box-shadow: 0 10px 20px rgba(0,0,0,0.3); animation: heartbeat 1.5s ease-in-out infinite;">
                    Start The Ultimate Celebration! üéä
                </button>
            </div>
        </section>

        <section id="games-section">
            <h2 style="font-size: 3.5rem; margin-bottom: 20px; color: #333; font-weight: 900;">A Love Game! üéÆ</h2>
            <p style="font-size: 1.5rem; margin-bottom: 50px; color: #555;">Match the symbols to complete our love story!</p>
            <div class="game-container">
                <h3>Memory Game - Find The Matches üíï</h3>
                <div class="memory-game" id="memory-game">
                    </div>
                <p style="margin-top: 20px; font-size: 1.2rem;" id="game-status">Matches: 0/8</p>
            </div>
        </section>
    </div>

    <script>
        // --- CONFIGURATION ---
        // Names (personalized)
        const HER_NAME = "Taniya";
        const YOUR_NAME = "Rahul";
        // Passwords allowed to unlock the surprise (always compared case-insensitive).
        // Keep these lowercase to match checkPassword's toLowerCase() behavior.
        const CORRECT_PASSWORDS = ['tannu','taniya','rahul','aditya','papa','birthday','love','maa'];
        
        const TYPING_TEXTS = [
            `HAPPY BIRTHDAY, ${HER_NAME}! üéÇ`,
            "YOU MEAN EVERYTHING! ‚ú®", 
            "MY HEART BELONGS TO YOU! üíù",
            "FOREVER YOURS! üíç"
        ];
        
        // Place your MP3 files into an `audio/` folder next to `9.html`.
        // Example filenames: audio/romantic1.mp3, audio/romantic2.mp3
        // Then list them here. Using local audio files makes the page work when uploaded to GitHub Pages.
        const ROMANTIC_SONGS = [
            'TANIYA_Birthday_Song_‚Äì_Happy_Birthday_Taniya(128k).m4a',
            'TANU_Birthday_Song_‚Äì_Happy_Birthday_Tanu(128k).m4a',
            'love-romantic-hopeful-music-333017.mp3'
            
        ];


        // --- PASSWORD PROTECTION ---
        function checkPassword() {
            const password = document.getElementById('password-input').value.toLowerCase().trim();
            
            if (CORRECT_PASSWORDS.includes(password)) {
                document.getElementById('entry-screen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('entry-screen').style.display = 'none';
                    const main = document.getElementById('main-content');
                    main.style.display = 'block';
                    // Replace placeholders with actual names safely
                    document.body.innerHTML = document.body.innerHTML.replace(/\[Her Name\]/g, HER_NAME).replace(/\[Your Name\]/g, YOUR_NAME);
                    // Give a polished reveal and update title for impression
                    const newMain = document.getElementById('main-content');
                    if (newMain) newMain.classList.add('reveal');
                    document.title = `${HER_NAME} & ${YOUR_NAME} ‚Äî Forever`;
                    // Ensure hero-sub text is correct and accessible
                    const heroSub = document.getElementById('hero-sub');
                    if (heroSub) heroSub.textContent = `This is all for you, ${HER_NAME}! ‚ú®`;
                    // move focus to main for screen readers
                    newMain.setAttribute('tabindex', '-1');
                    newMain.focus();
                    startCelebration();
                }, 800);
            } else {
                alert('Oops! Wrong word. Try one of your favorite sweet or food items!');
            }
        }

        // Enter key support for password
        document.getElementById('password-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });

        // --- START ALL EFFECTS ---
        function startCelebration() {
            createHearts();
            startTypingEffect();
            startConfetti();
            playRomanticMusic();
            initMemoryGame();
            // Removed observeTimeline() as per user request
        }

        // --- SECTION 2: FLOATING HEARTS ---
        function createHearts() {
            const heartsContainer = document.getElementById('floating-hearts');
            const hearts = ['üíñ', 'üíù', 'üéÇ', 'üéÅ', 'üéâ', '‚ú®', 'üåü', 'ü•≥', 'üíï', 'üíç', 'üíë'];
            
            for (let i = 0; i < 50; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.top = Math.random() * 100 + 'vh';
                heart.style.animationDelay = Math.random() * 5 + 's';
                heart.style.fontSize = (Math.random() * 2 + 1) + 'rem';
                heartsContainer.appendChild(heart);
            }
        }

        // --- TYPING EFFECT ---
        function startTypingEffect() {
            let textIndex = 0;
            let charIndex = 0;
            const typedTextElement = document.getElementById('typed-text');
            
            function type() {
                if (charIndex < TYPING_TEXTS[textIndex].length) {
                    typedTextElement.innerHTML += TYPING_TEXTS[textIndex].charAt(charIndex);
                    charIndex++;
                    setTimeout(type, 100);
                } else {
                    setTimeout(erase, 2000);
                }
            }
            
            function erase() {
                if (charIndex > 0) {
                    typedTextElement.innerHTML = TYPING_TEXTS[textIndex].substring(0, charIndex - 1);
                    charIndex--;
                    setTimeout(erase, 50);
                } else {
                    textIndex = (textIndex + 1) % TYPING_TEXTS.length;
                    setTimeout(type, 500);
                }
            }
            
            type();
        }

        // --- CONFETTI ANIMATION ---
        let isConfettiHeavy = false;

        function startConfetti() {
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const confettiPieces = [];
            const colors = ['#ff4081', '#FF9100', '#4CAF50', '#8BC34A', '#a100ff', '#ff6b6b'];

            class Confetti {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height - canvas.height;
                    this.size = Math.random() * 8 + 3;
                    this.color = colors[Math.floor(Math.random() * colors.length)];
                    this.speed = Math.random() * 3 + 2;
                    this.angle = Math.random() * 360;
                    this.spin = Math.random() * 10 - 5;
                }

                update() {
                    this.y += this.speed * (isConfettiHeavy ? 1.5 : 1);
                    this.x += Math.sin(this.angle) * (isConfettiHeavy ? 5 : 2);
                    this.angle += this.spin;
                    
                    if (this.y > canvas.height) {
                        this.y = -this.size;
                        this.x = Math.random() * canvas.width;
                    }
                }

                draw() {
                    ctx.save();
                    ctx.translate(this.x, this.y);
                    ctx.rotate(this.angle * Math.PI / 180);
                    ctx.fillStyle = this.color;
                    ctx.fillRect(-this.size/2, -this.size/2, this.size, this.size);
                    ctx.restore();
                }
            }

            // reduce piece count for better performance on lower-end devices
            for (let i = 0; i < 80; i++) {
                confettiPieces.push(new Confetti());
            }

            // keep canvas sized to window
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                confettiPieces.forEach(confetti => {
                    confetti.update();
                    confetti.draw();
                });
                requestAnimationFrame(animate);
            }

            animate();
        }

        function startHeavyConfetti() {
            isConfettiHeavy = true;
        }


        // --- ROMANTIC BACKGROUND MUSIC ---
        let currentSong = 0;
        const audio = new Audio(ROMANTIC_SONGS[currentSong]);
        // Do not loop a single file; advance to next song automatically
        audio.loop = false;
        audio.volume = 0.5; // Start quieter
        // When a song ends, automatically advance to the next one
        audio.addEventListener('ended', () => { nextSong(); });

        function playRomanticMusic() {
            audio.play().catch(e => console.log('Audio play failed: user interaction required', e));
        }

        function playMusic() {
            audio.play().catch(e => console.log('Audio play failed:', e));
        }

        function pauseMusic() {
            audio.pause();
        }

        function nextSong() {
            currentSong = (currentSong + 1) % ROMANTIC_SONGS.length;
            audio.src = ROMANTIC_SONGS[currentSong];
            audio.play().catch(e => console.log('Audio play failed:', e));
        }

        // --- LIGHTBOX FUNCTIONALITY ---
        let galleryImages = [];
        let currentLightboxIndex = -1;

        function openLightbox(src, caption) {
            const lb = document.getElementById('lightbox');
            const img = document.getElementById('lightbox-img');
            const cap = document.getElementById('lightbox-caption');
            const dl = document.getElementById('lightbox-download');
            img.src = src;
            img.alt = caption || '';
            cap.textContent = caption || '';
            dl.href = src;
            lb.style.display = 'flex';
            lb.setAttribute('aria-hidden','false');
            document.getElementById('lightbox-close').focus();
        }

        function openLightboxByIndex(index) {
            if (!galleryImages || galleryImages.length === 0) return;
            index = Math.max(0, Math.min(galleryImages.length - 1, index));
            currentLightboxIndex = index;
            const {src, alt} = galleryImages[index];
            openLightbox(src, alt);
            // show prev/next buttons if multiple
            document.getElementById('lightbox-prev').style.display = (galleryImages.length > 1) ? 'inline-block' : 'none';
            document.getElementById('lightbox-next').style.display = (galleryImages.length > 1) ? 'inline-block' : 'none';
        }

        function showLightboxByDelta(delta){
            if (currentLightboxIndex === -1) return;
            let next = currentLightboxIndex + delta;
            if (next < 0) next = galleryImages.length - 1;
            if (next >= galleryImages.length) next = 0;
            openLightboxByIndex(next);
        }

        function closeLightbox() {
            const lb = document.getElementById('lightbox');
            lb.style.display = 'none';
            lb.setAttribute('aria-hidden','true');
            document.getElementById('lightbox-img').src = '';
        }

        // attach handlers after DOM load
        document.addEventListener('DOMContentLoaded', () => {
            // gallery images open lightbox and register into galleryImages
            galleryImages = [];
            document.querySelectorAll('.gallery-container .photo-card img').forEach((img, idx) => {
                img.style.cursor = 'zoom-in';
                img.setAttribute('tabindex','0');
                img.setAttribute('role','button');
                img.setAttribute('aria-label', img.alt || 'Open image');
                // add to galleryImages array for navigation
                galleryImages.push({ src: img.currentSrc || img.src, alt: img.alt || '' });
                img.dataset.galleryIndex = idx;
                img.addEventListener('click', () => openLightboxByIndex(Number(img.dataset.galleryIndex)));
                img.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openLightboxByIndex(Number(img.dataset.galleryIndex)); } });
            });

            // wire lightbox nav buttons
            const prevBtn = document.getElementById('lightbox-prev');
            const nextBtn = document.getElementById('lightbox-next');
            prevBtn.addEventListener('click', () => showLightboxByDelta(-1));
            nextBtn.addEventListener('click', () => showLightboxByDelta(1));

            // close handlers and keyboard navigation
            document.getElementById('lightbox-close').addEventListener('click', closeLightbox);
            document.getElementById('lightbox').addEventListener('click', (e) => { if (e.target.id === 'lightbox') closeLightbox(); });
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') return closeLightbox();
                if (e.key === 'ArrowRight') return showLightboxByDelta(1);
                if (e.key === 'ArrowLeft') return showLightboxByDelta(-1);
            });
        });

        // --- SCROLL ANIMATIONS ---
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
        }


        // --- SECTION 5: PROPOSE MAGIC ---
        let noClickCount = 0;
        const noButtonMessages = [
            "Are you really sure? üò¢",
            "This isn't an option! üíï",
            "Think about the future! ü•∫",
            "I'll love you forever! üíî",
            "Come on, say YES! üíù",
            "The button is scared! üòä",
            "It's inevitable! Say YES! üíç"
        ];

        function moveNoButton() {
            const noBtn = document.getElementById('noBtn');
            const yesBtn = document.querySelector('.yes-btn');
            
            noClickCount++;
            
            if (noClickCount <= noButtonMessages.length) {
                const proposeContainer = noBtn.closest('.propose-container');
                const containerRect = proposeContainer.getBoundingClientRect();

                // Calculate a random position within the container
                const maxX = containerRect.width - noBtn.offsetWidth - 50;
                const maxY = containerRect.height - noBtn.offsetHeight - 50;
                
                // Keep it close to the center for a while
                let newX, newY;
                if (noClickCount < 3) {
                    newX = Math.random() * (containerRect.width / 2) + (containerRect.width / 4);
                    newY = Math.random() * (containerRect.height / 2) + (containerRect.height / 4);
                } else {
                    newX = Math.random() * maxX;
                    newY = Math.random() * maxY;
                }

                // Adjust for padding and ensure it stays inside the button area
                noBtn.style.position = 'absolute';
                noBtn.style.left = (newX + 20) + 'px'; // +20 for container padding
                noBtn.style.top = (newY + 20) + 'px';
                
                // Change button text and make yes button bigger
                noBtn.textContent = noButtonMessages[noClickCount - 1];
                yesBtn.style.transform = `scale(${1 + noClickCount * 0.15})`;
                yesBtn.style.zIndex = '100'; // Bring Yes button forward
            } else {
                // After many tries, make No button disappear
                noBtn.style.display = 'none';
                alert("You've tried enough! I'll take that as the YES I know is in your heart! üíù");
                handleYes();
            }
        }

        function handleYes() {
            // Smooth transition to the celebration section
            document.getElementById('propose-section').style.opacity = '0';
            
            setTimeout(() => {
                document.getElementById('propose-section').style.display = 'none';
                document.getElementById('after-yes').style.display = 'flex';
                document.getElementById('after-yes').style.opacity = '1';
                scrollToSection('after-yes');
                
                // Start special celebration effects
                startSpecialCelebration();
            }, 800);
        }

        function startSpecialCelebration() {
            startHeavyConfetti();
            audio.volume = 1.0;
            audio.playbackRate = 1.1; // Speed up the music for excitement
            
            setTimeout(() => {
                alert(`My ${HER_NAME}, I LOVE YOU! üíñ This is the beginning of our FOREVER! ü•∞`);
            }, 1000);
        }

        function startUltimateCelebration() {
            // Create multiple fireworks
            for(let i = 0; i < 30; i++) {
                setTimeout(() => {
                    createFirework();
                }, i * 100);
            }

            // Show final romantic message burst
            const finalMessages = [
                "You're my everything! üíù",
                "I'll love you forever! üíï",
                "My heart is yours! üíñ",
                "Together forever! üíç",
                "You complete me! üåü"
            ];
            
            finalMessages.forEach((message, index) => {
                setTimeout(() => {
                    showFloatingMessage(message);
                }, 500 + index * 500);
            });

            // Re-enable memory game for fun
            scrollToSection('games-section');
        }

        function showFloatingMessage(message) {
            const messageElement = document.createElement('div');
            messageElement.textContent = message;
            messageElement.style.position = 'fixed';
            messageElement.style.left = Math.random() * 70 + 15 + 'vw';
            messageElement.style.bottom = '10%'; // Start from bottom
            messageElement.style.fontSize = '2.5rem';
            messageElement.style.color = '#ff4081';
            messageElement.style.fontWeight = '900';
            messageElement.style.zIndex = '10001';
            messageElement.style.animation = 'floatUp 4s ease-out forwards, heartbeat 1.5s infinite';
            messageElement.style.textShadow = '2px 2px 5px rgba(255, 255, 255, 0.7)';
            
            document.body.appendChild(messageElement);
            
            setTimeout(() => {
                messageElement.remove();
            }, 4000);
        }

        function createFirework() {
            const firework = document.createElement('div');
            firework.style.position = 'fixed';
            firework.style.left = Math.random() * 100 + 'vw';
            firework.style.top = Math.random() * 80 + 'vh';
            firework.style.fontSize = '5rem';
            firework.style.zIndex = '10000';
            firework.textContent = 'üí•';
            firework.style.animation = 'fireworkPop 2.5s ease-out forwards';
            
            document.body.appendChild(firework);
            
            setTimeout(() => {
                firework.remove();
            }, 2500);
        }

        // --- MEMORY GAME ---
        let gameLocked = false;
        let matchedPairs = 0;
        let flippedCards = [];

        function initMemoryGame() {
            const symbols = ['üíñ', 'üíï', 'üíç', 'üéÇ', 'üåü', 'üíù', 'ü•≥', '‚ú®'];
            const gameContainer = document.getElementById('memory-game');
            const gameStatus = document.getElementById('game-status');
            let cards = [...symbols, ...symbols];
            
            gameContainer.innerHTML = '';
            cards.sort(() => Math.random() - 0.5);
            matchedPairs = 0;
            gameLocked = false;
            gameStatus.textContent = 'Matches: 0/8';

            cards.forEach((symbol, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.symbol = symbol;
                card.dataset.index = index;
                card.innerHTML = '‚ù§Ô∏è'; // Back side symbol
                card.addEventListener('click', flipCard);
                gameContainer.appendChild(card);
            });
        }

        function flipCard() {
            if (gameLocked || this.classList.contains('flipped')) return;

            this.classList.add('flipped');
            this.innerHTML = this.dataset.symbol;
            flippedCards.push(this);

            if (flippedCards.length === 2) {
                gameLocked = true;
                checkMatch();
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            const gameStatus = document.getElementById('game-status');

            if (card1.dataset.symbol === card2.dataset.symbol) {
                // Match found
                matchedPairs++;
                card1.removeEventListener('click', flipCard);
                card2.removeEventListener('click', flipCard);
                
                card1.style.background = '#8BC34A';
                card2.style.background = '#8BC34A';

                gameStatus.textContent = `Matches: ${matchedPairs}/8`;
                flippedCards = [];
                gameLocked = false;
                
                if (matchedPairs === 8) {
                    setTimeout(() => {
                        alert('üéâ You won! Our love story is complete! üíç');
                        // Optionally, restart the game
                        // initMemoryGame();
                    }, 500);
                }
            } else {
                // No match
                setTimeout(() => {
                    card1.classList.remove('flipped');
                    card2.classList.remove('flipped');
                    card1.innerHTML = '‚ù§Ô∏è';
                    card2.innerHTML = '‚ù§Ô∏è';
                    flippedCards = [];
                    gameLocked = false;
                }, 1000);
            }
        }

        // --- DYNAMIC CSS ANIMATIONS (FOR FIREWORK/FLOAT) ---
        const style = document.createElement('style');
        style.textContent += `
            @keyframes fireworkPop {
                0% { transform: scale(0); opacity: 1; }
                50% { transform: scale(1.5); opacity: 0.7; }
                100% { transform: scale(0); opacity: 0; }
            }
            @keyframes floatUp {
                0% { transform: translateY(0) scale(1); opacity: 1; }
                100% { transform: translateY(-100vh) scale(1.5); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
    <div id="toast" role="status" aria-live="polite">Copied to clipboard</div>
    <script>
        function copyShayari(){
            const el = document.getElementById('shayari');
            if(!el) return;
            const text = Array.from(el.querySelectorAll('p')).map(p=>p.textContent.trim()).join('\n');
            navigator.clipboard?.writeText(text).then(()=>{
                showToast('Shayari copied to clipboard');
            }).catch(()=>{
                // fallback
                const ta = document.createElement('textarea'); ta.value = text; document.body.appendChild(ta); ta.select(); try{ document.execCommand('copy'); showToast('Shayari copied'); }catch(e){ alert('Copy failed, please select and copy manually.'); } ta.remove();
            });
        }
        function showToast(msg){ const t=document.getElementById('toast'); t.textContent=msg; t.style.display='block'; clearTimeout(t._h); t._h=setTimeout(()=>t.style.display='none',2000); }
    </script>
</body>
</html>
